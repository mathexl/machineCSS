<link href="machine.css" rel="stylesheet" type="text/css">
<script   src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>

<div machines style="display:none;">
  <div state>T
    <div default><span>1</span></div>
    <div diag default><span>1</span></div>
    <div down default><span>1</span></div>
</div>
  <div state>E
      <div default><span>1</span></div>
    <div diag default><span>1</span></div>
    <div down default><span>1</span></div>
        <div right><span>0</span></div>

   </div>
  <div state>X</div>
  <div state end>C
      <div default><span>1</span></div>
    <div diag default><span>1</span></div>
    <div down default><span>1</span></div>
    <div diag default up><span>1</span></div>
    <div diag default long up><span>1</span></div>


  </div>
  <div state>S
      <div default><span>1</span></div>
    <div diag default><span>1</span></div>
    <div down default><span>1</span></div>
    <div down top default><span>0</span></div>
  </div>
  <div state>G</div>
  <div state>S</div>
  <div state>A</div>
  <div state>G</div>
</div>
<textarea id="input" style="border:1px #ddd solid; height:100px;resize:none;width:100%;"></textarea>
<canvas id="myCanvas" width="800" height="800"></canvas>
<script src="machine.js"></script>

<script>
$(document).ready(function(){
	$("#input").keyup(function(){
		input = $(this).val();
		console.log(input);
		new machine(input, "#testcase");
	});
});
</script>
